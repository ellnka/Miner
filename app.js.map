{"version":3,"sources":["webpack:///webpack/bootstrap f99ba7a07bc9f5cefa82","webpack:///./frontend/app.js","webpack:///./frontend/menu/index.js","webpack:///./frontend/menu/menu.jade","webpack:///./~/jade/lib/runtime.js","webpack:///fs (ignored)","webpack:///./frontend/menu/menu.styl","webpack:///./frontend/game/index.js","webpack:///./frontend/game/game.jade","webpack:///./frontend/game/game.styl"],"names":["menu","title","items","href","document","body","appendChild","getElem","addEventListener","event","alert","detail","value","game","height","width","bombCount","console","log","Menu","_title","_items","_render","_titleElem","_elem","querySelector","onclick","toggle","link","target","closest","contains","preventDefault","dispatchEvent","CustomEvent","bubble","innerHTML","tmp","createElement","firstElementChild","classList","Game","_status","_height","_width","_square","_bombCount","_cellQueue","openedBombCount","_initSquare","_initBombs","cellOnClick","bind","bombOnRightClick","i","j","mines","r","c","_getRandomInt","_updateCountersAroundBomb","_mines","cell","queue","row","column","result","length","minerTitleElem","add","tr","tc","_isCellBomb","min","max","Math","floor","random","rand","_isCellVisited","_openNextToBombCell","minerCounterElem","e","_isGameCompleted","id","undefined","replace","split","isBomb","_openAllCells","_looseGame","_openFreeCells","fakeBombCount","_winGame","refreshBombCounter","aroundBombCount","spanTag","startRow","startColumn","cellQueue","visitedQueue","cellCoords","shift","_isCellNextToBomb","_isCellInQueue","toString"],"mappings":"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AA+E,iBAAiB,EAAE;AAClG;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,gBAAgB;AAC3B,aAAY;AACZ;AACA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,MAAK,SAAS;AACd,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA,wEAAuE;AACvE,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA,oBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,cAAa;AACb,aAAY;AACZ,aAAY;AACZ,eAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACrPA,gB;;;;;;ACAA,0C;;;;;;;;;;;;;;ACCA;;;;AAEA;;;;;;K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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f99ba7a07bc9f5cefa82\n **/","'use strict';\r\n\r\nimport Menu from './menu';\r\nimport Game from './game';\r\n\r\nlet menu = new Menu({\r\n  title: \"Меню\",\r\n  items: [{\r\n    title: \"Конфеты\",\r\n    href:  \"candy\"\r\n  }, {\r\n    title: \"Пирожки\",\r\n    href:  \"pie\"\r\n  }, {\r\n    title: \"Пряники\",\r\n    href:  \"cookies\"\r\n  }]\r\n});\r\n\r\ndocument.body.appendChild(menu.getElem());\r\n\r\nmenu.getElem().addEventListener('menu-select', function(event) {\r\n  alert(event.detail.value);\r\n});\r\n\r\nlet game = new Game({\r\n  title: \"Сапер\",\r\n  height: 15,\r\n  width: 15,\r\n  bombCount: 9\r\n});\r\n\r\ndocument.body.appendChild(game.getElem());\r\ngame.getElem().addEventListener('miner-cell', function(event) {\r\n  console.log(\"module\");\r\n  console.log(event.detail.value);\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/app.js\n **/","\nimport template from './menu.jade';\n\nimport './menu.styl';\n\nexport default class Menu {\n\n  constructor({title, items}) {\n    this._title = title;\n    this._items = items;\n\n    this._render();\n\n    this._titleElem = this._elem.querySelector('.title');\n\n    this._titleElem.onclick = () => {\n      this.toggle();\n    };\n\n    this._elem.onclick = event => {\n      let link = event.target.closest('a');\n      if (link && this._elem.contains(link)) {\n        event.preventDefault();\n        this._elem.dispatchEvent(new CustomEvent('menu-select', {\n          bubble: true,\n          detail: {\n            value: link.innerHTML\n          }\n        }));\n      }\n    };\n  }\n\n  _render() {\n    let tmp = document.createElement('div');\n    tmp.innerHTML = template({\n      title: this._title,\n      items: this._items\n    });\n    this._elem = tmp.firstElementChild;\n  }\n\n  toggle() {\n    this._elem.classList.toggle('open');\n  }\n\n  getElem() {\n    return this._elem;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/menu/index.js\n **/","var jade = require(\"d:\\\\Projects\\\\Miner\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (items, title, undefined) {\nbuf.push(\"<div class=\\\"menu\\\"><span class=\\\"title\\\">\" + (jade.escape(null == (jade_interp = title) ? \"\" : jade_interp)) + \"</span><ul>\");\n// iterate items\n;(function(){\n  var $$obj = items;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var item = $$obj[$index];\n\nbuf.push(\"<li><a\" + (jade.attr(\"href\", item.href, true, true)) + \">\" + (jade.escape(null == (jade_interp = item.title) ? \"\" : jade_interp)) + \"</a></li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var item = $$obj[$index];\n\nbuf.push(\"<li><a\" + (jade.attr(\"href\", item.href, true, true)) + \">\" + (jade.escape(null == (jade_interp = item.title) ? \"\" : jade_interp)) + \"</a></li>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</ul></div>\");}.call(this,\"items\" in locals_for_with?locals_for_with.items:typeof items!==\"undefined\"?items:undefined,\"title\" in locals_for_with?locals_for_with.title:typeof title!==\"undefined\"?title:undefined,\"undefined\" in locals_for_with?locals_for_with.undefined:typeof undefined!==\"undefined\"?undefined:undefined));;return buf.join(\"\");\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./frontend/menu/menu.jade\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/jade/lib/runtime.js\n ** module id = 3\n ** module chunks = 0\n **/","/* (ignored) */\n\n\n/*****************\n ** WEBPACK FOOTER\n ** fs (ignored)\n ** module id = 4\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./frontend/menu/menu.styl\n ** module id = 5\n ** module chunks = 0\n **/","\nimport template from './game.jade';\n\nimport './game.styl';\n\nexport default class Game {\n\n  constructor({title, height, width, bombCount}) {\n\n    this._title = title;\n    this._status = \"0\"; // 0 = game in progress, 1 = win, -1 = loose\n    this._height = height;\n    this._width = width;\n\n    this._square = [];\n\n    this._bombCount = bombCount;\n    this._cellQueue = [];\n    \n    this.openedBombCount = 0;\n\n    this._render();\n    this._initSquare();\n    this._initBombs();\n\n    this._elem.onclick = this.cellOnClick.bind(this);\n    this._elem.addEventListener('contextmenu', this.bombOnRightClick.bind(this), false);\n\n\n\n  /* this._titleElem = this._elem.querySelector('.title');\n\n    this._titleElem.onclick = () => {\n      this.toggle();\n    };\n*/\n\n   /* this._elem.onclick = event => {\n    let cell = event.target.closest('div');\n      if (cell ) { //&& this._elem.contains(div)\n        event.preventDefault();\n        console.log(\"module\");\n        this._elem.dispatchEvent(new CustomEvent('miner-cell', {\n          bubble: true,\n          detail: {\n            value: cell.innerHTML\n          }\n        }));\n      }\n    };*/\n  }\n\n  _render() {\n    let tmp = document.createElement('div');\n    tmp.innerHTML = template({\n      title: this._title,\n      width: this._width,\n      height: this._height\n    });\n    this._elem = tmp.firstElementChild;\n  }\n\n  _initSquare() {\n    //0 - empty cell; -1 - bomb; number - count of bombs around the cell\n    for(let i =0; i < this._height; i++) {\n      this._square[i] = [];\n      for(let j = 0; j < this._width; j++) {\n        this._square[i][j] = 0;\n      }\n    }\n  }\n\n  _initBombs(){\n    let mines = [];\n    let r, c;\n    for(let i = 0; i <  this._bombCount; i++) {\n      mines[i] = [];\n      do {\n        r = this._getRandomInt(0, this._bombCount-1);\n        c = this._getRandomInt(0, this._bombCount-1);\n      } while (this._square[r][c] < 0 );\n      mines[i][0] = r;\n      mines[i][1] = c;\n      this._square[r][c] = -1;\n      this._updateCountersAroundBomb(r,c);\n    }\n    this._mines = mines;\n  }\n\n  _isCellBomb( r, c ) {\n    return (this._square[r][c] < 0)?true : false;\n  }\n\n  _isCellNextToBomb( r, c ) {\n    return (this._square[r][c] > 0)?true : false;\n  }\n\n  _isCellVisited( r, c ) {\n    console.log(\"#id\"+r+\"-\"+c+\"\");\n    let cell = this._elem.querySelector(\"#id\"+r+\"-\"+c+\"\");\n    if(cell.classList.contains('visited') || cell.classList.contains('nearby') || cell.classList.contains('mined') || cell.classList.contains('opened')|| cell.classList.contains('opened-bomb')) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  _isCellInQueue(queue, row, column) {\n    let result = false;\n    for(let i = 0; i < queue.length; i++) {\n      if (queue[i][0] == row && queue[i][1] == column) {\n        result = true;\n        break;\n      }\n    }\n    return result;\n  }\n\n  _isGameCompleted() {\n    return (this._status == 0)?false:true;\n  }\n\n  _looseGame() {\n    this._status = -1;\n    let minerTitleElem = this._elem.querySelector(\".miner-title\");\n    minerTitleElem.innerHTML = \"You Loose!\";\n    minerTitleElem.classList.add(\"fail\");\n  }\n\n  _winGame() {\n    this._status = 1;\n    let minerTitleElem = this._elem.querySelector(\".miner-title\");\n    minerTitleElem.innerHTML = \"You Win!\";\n    minerTitleElem.classList.add(\"success\");\n  }\n\n  _updateCountersAroundBomb(r, c) {\n    for (let i = -1; i <= 1; i++){\n      for (let j = -1; j<=1; j++) {\n        let tr = r + i;\n        let tc = c + j;\n        if(tr >= 0 && tc >= 0 && tr < this._width && tc < this._height && !this._isCellBomb(tr,tc) ) {\n          this._square[tr][tc]++;\n        }\n\n      }\n    }\n  }\n\n  _getRandomInt_v1(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  _getRandomInt(min, max) {\n    let rand = min + Math.random() * (max + 1 - min);\n    rand = Math.floor(rand);\n    return rand;\n  }\n\n  _fillNumbers() {\n    for(let i = 0; i < this._square.length; i++) {\n      for (let j = 0; j < this._square[i].length; j++){\n        let cell = this._elem.querySelector(\"#id\" + i +\"-\"+ j + \"\");\n        cell.innerHTML = this._square[i][j];\n      }\n    }\n  }\n\n  _openAllCells () {\n    for(let i = 0; i < this._width; i++) {\n      for (let j = 0; j < this._height; j++) {\n        let cell = this._elem.querySelector(\"#id\"+i+\"-\"+j+\"\");\n        if(!this._isCellVisited(i, j )) {\n          if (this._square[i][j] < 0) cell.classList.toggle('mined');\n          if (this._square[i][j] == 0)cell.classList.toggle('opened');\n          if (this._square[i][j] > 0) {\n            this._openNextToBombCell(cell, this._square[i][j]);\n          }\n        }\n      }\n    }\n  }\n\n  refreshBombCounter() {\n    let minerCounterElem = this._elem.querySelector(\".miner-counter\");\n    minerCounterElem.innerHTML = this.openedBombCount;\n  }\n\n  cellOnClick(e) {\n\n //   this._fillNumbers();\n    if(this._isGameCompleted()) return;\n\n    let cell = e.target.closest('div');\n    if (cell.id == undefined) return; \n    let id = (cell.id.replace(\"id\",\"\")).split(\"-\");\n    let row = id[0];\n    let column = id[1];\n    console.log(id);\n\n    let isBomb = this._isCellBomb(row, column);\n    if (this._isCellVisited(row, column)) return;\n\n    if(isBomb) {\n      this._openAllCells();\n      this._looseGame();\n    } else {\n      this._openFreeCells(row, column);\n    }\n\n\n  }\n  \n  bombOnRightClick (e) {\n    e.preventDefault();\n    if(this._isGameCompleted()) return;\n\n    let cell = e.target.closest('div');\n    if (cell.id == undefined) return;\n    let id = (cell.id.replace(\"id\",\"\")).split(\"-\");\n    let row = id[0];\n    let column = id[1];\n    console.log(id);\n\n    if(!this._isCellVisited(row, column )) {\n      cell.classList.toggle('opened-bomb');\n      this.openedBombCount += (cell.classList.contains('opened-bomb'))?+1:-1;\n      if(this.openedBombCount == this._bombCount) {\n        let fakeBombCount = 0;\n        for (let i = 0; i < this._mines.length; i++) {\n          let cell = this._elem.querySelector(\"#id\"+this._mines[i][0]+\"-\"+this._mines[i][1]+\"\");\n          if(!cell.classList.contains('opened-bomb'))fakeBombCount++;\n        }\n        if(fakeBombCount == 0) this._winGame();\n      }\n    }\n\n    this.refreshBombCounter();\n  }\n\n\n  _openNextToBombCell(cell, aroundBombCount) {\n    let spanTag = document.createElement('span');\n    spanTag.innerHTML = aroundBombCount;\n\n    cell.classList.add('nearby');\n    cell.innerHTML = \"\";\n    cell.appendChild(spanTag);\n  }\n\n\n\n  getElem() {\n    return this._elem;\n  }\n\n\n\n\n\n  _openFreeCells(startRow, startColumn) {\n    //init\n    let cell;\n\n    let cellQueue = [];\n    let visitedQueue = [];\n\n    if(this._isCellVisited(startRow, startColumn) ) return ;\n\n    cellQueue[0] = [startRow, startColumn];\n\n    while ( cellQueue.length > 0 ) {\n      let cellCoords = cellQueue.shift();\n      visitedQueue[visitedQueue.length] = cellCoords;\n\n      cell = this._elem.querySelector(\"#id\" + cellCoords[0] + \"-\" + cellCoords[1] + \"\");\n\n      if (this._square[cellCoords[0]][cellCoords[1]] > 0 ) {\n        this._openNextToBombCell(cell,this._square[cellCoords[0]][cellCoords[1]]);\n      } else {\n        cell.classList.add('opened');\n      }\n      if (this._isCellNextToBomb(cellCoords[0], cellCoords[1])) continue;\n\n      for (let i = -1; i <= 1; i++) {\n        for (let j = -1; j <= 1; j++) {\n          let tr = +cellCoords[0] + i;\n          let tc = +cellCoords[1] + j;\n\n          if (  tr >= 0 && tc >= 0 && tr < this._width && tc < this._height && !this._isCellBomb( tr, tc) && !this._isCellInQueue(cellQueue, tr, tc) && !this._isCellInQueue(visitedQueue, tr, tc)) {\n              if(this._isCellNextToBomb(tr, tc) ){\n                cell = this._elem.querySelector(\"#id\" +tr +\"-\"+ tc + \"\");\n                this._openNextToBombCell(cell, this._square[tr][tc]);\n\n              } else {\n                if(i != j) {\n                  cellQueue[cellQueue.length] = [tr, tc];\n                }\n                //cellQueue[cellQueue.length][0] = tr;\n                //cellQueue[cellQueue.length][1] = tc;\n              }\n          }\n        }\n      }\n\n\n\n      console.log(cellQueue.toString());\n    }\n  }\n\n\n\n  /*\n    _isCellBomb(mines, r, c ) {\n      let result = false;\n      for (let j = 0; j < mines.length; j++) {\n        if(mines[j][0] == r && mines[j][1] == c) {\n          result = true;\n          break;\n        }\n      }\n      return result;\n    }\n\n    cellOnClick(e) {\n\n      let cell = e.target.closest('div');\n      let row = cell.id.substring(2,3);\n      let column = cell.id.substring(3,4);\n\n      let isMine = this._isCellBomb(this._mines, row, column);\n      if (cell.classList.contains('opened') || cell.classList.contains('mined')) return;\n\n      if(isMine) {\n     //   cell.classList.add(\"mined\");\n        this._openAll();\n      } else {\n        this._openFreeCells(row, column);\n      }\n\n\n\n    }\n\n    toggle() {\n      this._elem.classList.toggle('open');\n    }\n\n    getElem() {\n      return this._elem;\n    }\n\n\n\n    _openAll () {\n\n      for(let i = 0; i < this._width; i++) {\n        for (let j = 0; j < this._height; j++) {\n          if (this._isCellBomb(this._mines, i, j) == true) {\n            console.log(\"-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*\");\n            let cell = document.querySelector(\"#id\"+i+j+\"\");\n            console.log(\"#id\"+i+j+\"\");\n            if (cell) {\n              console.log(cell);\n              cell.classList.toggle('mined');\n            }\n          } else {\n            this._roundCell(i ,j);\n          }\n        }\n      }\n\n    }\n\n\n\n    _openFreeCells(row, column) {\n\n      console.log(\"row \" + row);\n      console.log(\"column \" + column);\n      // open right - top\n      let break_line;\n      for (let i = +row - 1; i >= 0; i-- ) {\n\n        for (let j = column; j < this._width; j++) {\n          if(!this._roundCell(i,j)) {\n            break_line = j;\n            break;\n          }\n        }\n\n      }\n\n      // open right - bottom\n      for (let i = +row ; i < this._height; i++ ) {\n        for (let j = column; j < this._width; j++) {\n          if(!this._roundCell(i,j)) break;\n        }\n      }\n\n      // open left - bottom\n      for (let i = +row ; i < this._height; i++ ) {\n        for (let j = column - 1; j >= 0; j--){\n          if(!this._roundCell(i,j)) break;\n        }\n      }\n\n      // open left - top\n      for (let i = +row - 1; i >= 0; i-- ) {\n        for (let j = column - 1; j >= 0; j--) {\n          if(!this._roundCell(i,j)) break;\n        }\n      }\n    }\n\n    _roundCell(r ,c) {\n      let checkedCell = document.querySelector(\"#id\"+r+c+\"\");\n      console.log(\"check cell\");\n      console.log(checkedCell);\n      console.log(\"#id\"+r+c+\"\");\n      if(checkedCell.classList.contains('opened') || checkedCell.classList.contains('nearby') || checkedCell.classList.contains('mined')) return false;\n\n      let bombCounter = 0;\n\n\n      for (let i = -1; i <= 1; i++){\n        for (let j = -1; j<=1; j++) {\n          let tr = r + i;\n          let tc = c + j;\n          console.log(\"tr \" + tr);\n          console.log(\"tc \" + tc);\n          if(tr >= 0 && tc >= 0 && tr <= this._width && tc <= this._height && this._isCellBomb(this._mines,tr,tc)) {\n            bombCounter++;\n            console.log(\"mine found \");\n          }\n\n        }\n      }\n      console.log('bombCounter '+bombCounter);\n\n      if(bombCounter) {\n        checkedCell.innerHTML = bombCounter;\n        checkedCell.classList.add('nearby');\n      } else {\n        checkedCell.classList.add('opened');\n      }\n      return (bombCounter>0)? false : true ;\n    }\n\n\n\n    _openFreeCells(startRow, startColumn) {\n      //init\n      let elem = document.querySelector(\"#id\"+startRow+startColumn+\"\");\n      let roundFreeCells = [];\n      let diagonalFreeCells = [];\n      let diagonalQueue = [];\n\n      if(!elem.classList.contains('visited')) {\n        this._cellQueue[0] = [startRow, startColumn];\n      }\n\n      while (this._cellQueue.length > 0 || diagonalQueue.length > 0  ) {\n        let isDiagonalCell = this._cellQueue.length > 0 ? false : true;\n        let cellCoords = this._cellQueue.length > 0 ? this._cellQueue.shift() : diagonalQueue.shift();\n\n        let cell = document.querySelector(\"#id\" + cellCoords[0] + cellCoords[1] + \"\");\n        let bombCounter = 0;\n        roundFreeCells = [];\n        diagonalFreeCells = [];\n\n        for (let i = -1; i <= 1; i++) {\n          for (let j = -1; j <= 1; j++) {\n            let tr = +cellCoords[0] + i;\n            let tc = +cellCoords[1] + j;\n\n            if (tr >= 0 && tc >= 0 && tr < this._width && tc < this._height ) {\n\n              if (this._isCellBomb(this._mines, tr, tc)) {\n                bombCounter++;\n              } else {\n                if(!isDiagonalCell){\n                elem = document.querySelector(\"#id\" + tr + tc + \"\");\n                if (!elem.classList.contains('visited') && !this._isCellInQueue(this._cellQueue, tr, tc) && !this._isCellInQueue(diagonalQueue, tr, tc) ) {\n                  if(i != j){\n                    roundFreeCells[roundFreeCells.length] = [tr, tc];\n                  } else {\n                    diagonalFreeCells[diagonalFreeCells.length] = [tr, tc];\n                  }\n                }\n              }\n            }\n            }\n          }\n        }\n\n        cell.classList.add('visited');\n        if (bombCounter) {\n          cell.classList.add('nearby');\n          cell.innerHTML = bombCounter;\n\n        } else {\n          if(!isDiagonalCell)cell.classList.add('opened');\n          this._cellQueue = this._cellQueue.concat(roundFreeCells);\n          diagonalQueue = diagonalQueue.concat(diagonalFreeCells);\n\n        }\n\n       console.log(this._cellQueue.toString());\n      }\n    }\n\n\n\n   _addVisistedClasses(cell, bombCounter) {\n\n   }\n\n    _isCellInQueue(queue, row, column) {\n      let result = false;\n      for(let i = 0; i < queue.length; i++) {\n        if (queue[i][0] == row && queue[i][1] == column) {\n          result = false;\n          break;\n        }\n      }\n      return result;\n    }\n\n  */\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/game/index.js\n **/","var jade = require(\"d:\\\\Projects\\\\Miner\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (height, width) {\nbuf.push(\"<div class=\\\"miner-container\\\"><div class=\\\"miner-title info\\\">= \\\"title\\\"<div class=\\\"miner-counter\\\"></div></div><div class=\\\"miner-field\\\"></div>\");\nfor (let i = 0; i < height; i++){\n{\nbuf.push(\"<div class=\\\"miner-row\\\"></div>\");\nfor (let j = 0; j < width; j++) {\n{\nbuf.push(\"<div\" + (jade.attr(\"id\", \"id\"+i+\"-\"+j, true, true)) + \" class=\\\"miner-cell\\\"></div>\");\n}\n}\n}\n}\nbuf.push(\"</div>\");}.call(this,\"height\" in locals_for_with?locals_for_with.height:typeof height!==\"undefined\"?height:undefined,\"width\" in locals_for_with?locals_for_with.width:typeof width!==\"undefined\"?width:undefined));;return buf.join(\"\");\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./frontend/game/game.jade\n ** module id = 7\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./frontend/game/game.styl\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}